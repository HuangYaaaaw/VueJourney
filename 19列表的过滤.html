<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../vue2.js"></script>
</head>

<body>
    <div id="root">
        <h2>列表筛选</h2>
        <input type="text" v-model="keyword">
        <!-- 观察输入框里面的东西是否改变，如果改变就刷新fliperson,更新页面 -->
        <ul>
            <li v-for="p in filpersons" :key="p.id">{{ p.name }} - {{ p.age }} - {{ p.sex }}</li>
        </ul>
    </div>
    <script>
        new Vue({
            el: '#root',
            data: {
                keyword: '',
                persons: [
                    { id: '@01', name: '马冬梅', age: 19, sex: '女' },
                    { id: '@02', name: '周冬雨', age: 20, sex: '女' },
                    { id: '@03', name: '周杰伦', age: 21, sex: '男' },
                    { id: '@04', name: '温兆伦', age: 22, sex: '男' }
                ],
                filpersons: []
            },
            watch: {
                keyword: {
                    immediate: true,
                    // immidiate应该出现在被监视属性的大括号里面，handler函数的外面
                    handler() {
                        this.filpersons = this.persons.filter(p => {
                            return p.name.indexOf(this.keyword) !== -1;
                        });//p是persons数组里面的element

                    }
                }
            },

        }
        )
    </script>
</body>

</html>